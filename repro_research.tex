\documentclass[12pt,t]{beamer}
\usepackage{graphicx}
\setbeameroption{hide notes}
\setbeamertemplate{note page}[plain]
\usepackage{listings}

\input{header.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% end of header
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% title info
\title{Reproducible Research}
\author{\href{http://kbroman.org}{Karl Broman}}
\institute{Biostatistics \& Medical Informatics, UW{\textendash}Madison}
\date{\href{http://kbroman.org}{\tt \scriptsize \color{foreground} kbroman.org}
\\[-4pt]
\href{https://github.com/kbroman}{\tt \scriptsize \color{foreground} github.com/kbroman}
\\[-4pt]
\href{https://twitter.com/kwbroman}{\tt \scriptsize \color{foreground} @kwbroman}
}


\begin{document}

% title slide
{
\setbeamertemplate{footline}{} % no page number here
\frame{
  \titlepage
  \note{Blah blah blah reproducible blah blah.}
} }


\begin{frame}[fragile,c]{}

\begin{center}
\begin{minipage}[c]{9.3cm}
\begin{semiverbatim}
\lstset{basicstyle=\normalsize}
\begin{lstlisting}[linewidth=9.3cm]
 Karl -- this is very interesting,
 however you used an old version of
 the data (n=143 rather than n=226).

 I'm really sorry you did all that
 work on the incomplete dataset.

 Bruce
\end{lstlisting}
\end{semiverbatim}
\end{minipage}
\end{center}

\note{This is an edited version of an email I got from a collaborator,
  in response to an analysis report that I had sent him.

  I try to always include some brief data summaries at the start of
  such reports. By doing so, he immediately saw that I had an old
  version of the data.

  Because I'd set things up carefully, I could just substitute in the
  newer dataset, type ``{\tt make}'', and get the revised report.

  This is a reproducibility success story. But it took me a long
  time to get to this point.
}
\end{frame}


\begin{frame}[c]{}
\centerline{\Large How did I make this figure?}

\note{Sometimes, in the midst of a bout of exploratory data analysis,
  I'll create some exciting graph and have a heck of a time
  reproducing it afterwards.}
\end{frame}

\begin{frame}[c]{}
\centerline{\Large Why did I omit those samples?}

\note{I may decide to omit a few samples. Will I record {\nhilit why}
  I omitted those particular samples?}
\end{frame}

\begin{frame}[c]{}
\centerline{\Large In what order do I run these scripts?}

\note{Sometimes the process of data file manipulation and data
  cleaning gets spread across a bunch of scripts that need to be
  executed in a particular order. Will I record this information? Is
  it obvious what script does what?}
\end{frame}

\begin{frame}[c]{}
\centerline{\Large Where did we get this data file?}

\note{Record the provenance of all data or metadata files.}
\end{frame}

\begin{frame}[c]{}
\centerline{\Large "Your script is now giving an error."}

\note{It was working last week. Well, last month, at least. How easy
  is it to go back through that script's history to see where and why
  it stopped working?}
\end{frame}

\begin{frame}[c]{}
\centerline{\Large "The attached is similar to the code we used."}

\note{From an email in response to my request for code used for a
  paper.}
\end{frame}



\begin{frame}[c]{}


\centering
\Large

Reproducible

\bigskip

\onslide<2->{{\color{lolit} vs.}}

\bigskip

\only<1|handout 0>{{\color{background} (Replicable) invisible text}}
\only<2>{Replicable}
\only<3 | handout 0>{Correct}

\note{Computational work is
  {\color{nhilit} reproducible} if one can take the data and code and produce
  the same set of results. {\color{nhilit} Replicable} is more stringent: can
  someone repeat the experiment and get the same results?

  Reproducibility is a minimal standard. That something is
  reproducible doesn't imply that it is correct. The code may have bugs. The
  methods may be poorly behaved. There could be experimental
  artifacts.

  (But reproducibility is probably correlated with correctness.)

  Note that some scientists say replicable for what I call
  reproducible, and vice versa.
}
\end{frame}



\begin{frame}{Levels of quality}


\vspace{24pt}

\bi
\itemsep12pt
\item Are the tables and figures reproducible from the code and data?
\item Does the code actually do what you think it does?
\item In addition to {\color{hilit} what} was done, is it clear
  {\color{hilit} why} it was done?
  \bi
  \item[] (e.g., how were parameter settings chosen?)
  \ei
\item Can the code be used for other data?
\item Can you extend the code to do other things?
\ei

\note{Reproducibility is not black and white. And the ideal is hard to
  achieve.
}
\end{frame}


\begin{frame}{Why do we care?}

\vspace{24pt}

\bi
\itemsep12pt
\item Avoid embarrassment
\item More likely correct
\item Save time, in the long run
\item Greater potential for extensions; higher impact
\ei

\note{Doing things properly (writing clear, documented, well-tested
  code) is time consuming, but it could save you a ton of aggravation
  down the road.  Ultimately, you'll be more efficient, and your work
  will have greater impact.

Your code and analyses will be easier to debug, maintain, and extend.
}
\end{frame}


\begin{frame}[c]{}

\centering
\large
Your closest collaborator is you six months ago, but you
don't reply to emails.
\note{I heard this from Paul Wilson, UW-Madison.
}
\end{frame}




\end{document}
